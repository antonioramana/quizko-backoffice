import{W as v,r as y,j as e,Y as _,a as P}from"./app--oISFhqW.js";import{P as k}from"./PrimaryButton-D_GEZHxU.js";import{A as R}from"./AuthenticatedLayout-DSVi8vY8.js";import{F as C,a as $}from"./ChevronRightIcon-mwYJnyBs.js";import{q as E}from"./transition-D3AYu_rU.js";import"./Modal-CkYoBzAA.js";import"./SecondaryButton-CeOpsOwd.js";const a=1;function G({auth:l,questions:n,note:r,candidate:c}){const{put:m,data:u,setData:x,processing:S,recentlySuccessful:h}=v({note:null}),[s,o]=y.useState(0),p=t=>{t.preventDefault(),m(route("student_note.update",r.id))},b=()=>{s<Math.ceil(n.length/a)-1&&o(s+1)},g=()=>{s>0&&o(s-1)},d=s*a,f=n.slice(d,d+a),j=Math.ceil(n.length/a);return e.jsxs(R,{user:l.user,children:[e.jsx(_,{title:"Résultat"}),e.jsx(P,{className:"inline-flex items-center px-4 py-2 bg-purple-950 text-white border border-gray-300 rounded-md font-semibold text-xs uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",href:`/students-answers/${r.interview_id}`,children:"Retour"}),e.jsxs("div",{className:"mt-6 text-black",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Résultat de ",c.user.name,e.jsx("span",{className:"text-sm text-white rounded-md bg-green-800 p-2 ms-2",children:r.note!==null?"Note: "+r.note:"Note Provisoire :"+r.interim_note})]}),f.map((t,N)=>e.jsxs("div",{className:"mb-6 p-2 border rounded-md shadow-sm bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.question}),e.jsxs("span",{className:"text-sm text-white rounded-md p-1 bg-red-800",children:[t.point," points"]})]}),e.jsx("ul",{className:"space-y-2",children:t.answers.map((i,w)=>e.jsx("li",{className:`p-2 rounded-md ${i.is_candidate_answer?"bg-blue-100":""} ${i.is_correct?"border-l-4 border-green-500":"border-l-4 border-red-500"}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:i.answer}),i.is_candidate_answer&&i.is_correct&&e.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:`Points: ${t.point}`})]})},w))}),t.question_type==="open"&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-md",children:[e.jsx("h4",{className:"font-semibold",children:"Réponse du candidat :"}),e.jsx("p",{children:t.answers[0].candidate_answer})]})]},N)),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{onClick:g,disabled:s===0,className:`p-2 bg-green-900 text-white rounded-md ${s===0?"cursor-not-allowed":"hover:bg-gray-300"}`,children:e.jsx(C,{className:"h-5 w-10"})}),e.jsxs("span",{className:"text-lg font-medium",children:[s+1," question sur ",j]}),e.jsx("button",{onClick:b,disabled:s>=Math.ceil(n.length/a)-1,className:`p-2 bg-green-900 text-white rounded-md ${s>=Math.ceil(n.length/a)-1?"cursor-not-allowed":"hover:bg-gray-300"}`,children:e.jsx($,{className:"h-5 w-10"})})]}),e.jsxs("div",{className:"mt-4 p-4 border rounded-md shadow-sm bg-white",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Note"}),e.jsxs("p",{children:["Note Provisoire: ",r.interim_note]}),r.note!==null&&e.jsxs("p",{children:["Note: ",r.note]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{htmlFor:"Note",className:"block text-sm font-medium text-gray-700"}),e.jsx("input",{type:"number",name:"note",id:"note",placeholder:"Modifier la note",value:u.note,onChange:t=>{x("note",t.target.value)},className:"mt-1 p-2 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),e.jsx(k,{onClick:p,className:"mt-2",children:"Sauvegarder la note"})]}),e.jsx(E,{show:h,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-black bg-green-200 text-center p-3 rounded-md my-2",children:"Nouvelle note attribuée"})})]})]})]})}export{G as default};
